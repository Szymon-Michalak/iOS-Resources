---
import type { ImageMetadata } from 'astro';
import { Image } from 'astro:assets';

export interface Props {
	size?: `${number}rem` | `${number}px`;
	shape?: 'circle' | 'rounded';
	imagePath: string;
}

const { imagePath, size = '4.5rem', shape = 'rounded' } = Astro.props as Props;
const padding = '0em';
const images = import.meta.glob<{ default: ImageMetadata }>('../../assets/*')
if (!images[imagePath]) throw new Error(`"${imagePath}" does not exist in glob: "/src/assets/*.svg"`);
---

{
	imagePath && (
		<div class:list={['logo', shape]} style={`--logo-size: ${size}; --logo-padding: ${padding};`}>
            <Image src={images[imagePath]()} alt="" />
		</div>
	)
}

<style>
	.logo {
		display: flex;
		place-content: center;
		font-size: var(--logo-size);
		width: 1em;
		height: 1em;
		/* Allows logos to be visible in both light/dark. Hardcoded because variant colours adjust to theme */
		background-color: transparent;
		border: transparent;
		/* Indicates the brand logo boundaries for forced colors users, transparent is changed to a solid color */
		outline: 1px solid transparent;
		overflow: hidden;
	}

	.circle {
		border-radius: 50%;
	}

	.rounded {
		border-radius: 0.25em;
	}

	.logo img {
		padding: var(--logo-padding);
		width: 100%;
		height: 100%;
	}
</style>